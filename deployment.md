# Deployment Guide for simple-comparator

This document outlines the steps to deploy the simple-comparator package to npm.

## Pre-deployment Checklist

- Build the package first: `pnpm build`
- Ensure all tests pass: `pnpm test` (includes lint checks - eslint, tsc, publint, unit tests, and environmental tests)

Ensure correct `git config --local user.email` and `git config --local user.name` are set.

If dist folders changed, commit dist build separatelly.

## Deployment Steps

1. **Update version number** in the following files:

    - `package.json`
    - `README.md` (Deno snippet)

2. **Generate changelog entries**:

    Ask AI assistant to help generate changelog from git commit history.

    Context:

    ```bash
    # Run this to see commits since last tag
    git log $(git describe --tags --abbrev=0)..HEAD --oneline
    ```

    Prompt:

    "Please generate changelog entries based on commits since the last release; follow current CHANGELOG.md format. The
    package.json contains updated version number. Also generate tag and commit messages for next commits following these
    examples:

    ```bash
    git tag -a vX.Y.Z -m "Release vX.Y.Z: Brief description

    This release includes:
    - Major change 1
    - Major change 2
    - etc."
    ```

    ```bash
    git commit -m "chore: bump version to X.Y.Z" -m "- Update package.json version to X.Y.Z
    - Update CHANGELOG.md with X.Y.Z release notes
    - Update README.md with latest version references"
    ```

    Where the 'vX.Y.Z' is the version number from package.json.

    Gitlogs: "

3. **Commit version changes**:

    ```bash
    git add package.json CHANGELOG.md README.md
    git commit ... # use generated commit
    ```

4. **Create a git tag**

    As generated by AI assistant.

5. **Push changes and tags**:

    ```bash
    git push origin main --tags
    ```

6. **Publish to npm**:

    ```bash
    npm publish
    ```

7. **Verify the package** is correctly published:

    ```bash
    npm view simple-comparator
    ```
